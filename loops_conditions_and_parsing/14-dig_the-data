#!/usr/bin/env bash
# This script reads from standard input, so it can be used with a pipe.
awk '
sed -rn 's/^(\S+).* ".*" ([0-9]{3}) .*/\1 \2/p' apache-access.log | LC_ALL=C sort | LC_ALL=C uniq -c | LC_ALL=C sort -nr
